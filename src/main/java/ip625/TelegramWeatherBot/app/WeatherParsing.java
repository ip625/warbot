//вот такое выдает current:
//str = "{\"coord\":{\"lon\":30.26,\"lat\":59.89},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"пасмурно\",\"icon\":\"04d\"}],\"base\":\"stations\",\"main\":{\"temp\":10,\"pressure\":1018,\"humidity\":81,\"temp_min\":10,\"temp_max\":10},\"visibility\":10000,\"wind\":{\"speed\":6,\"deg\":240},\"clouds\":{\"all\":75},\"dt\":1541250000,\"sys\":{\"type\":1,\"id\":7267,\"message\":0.002,\"country\":\"RU\",\"sunrise\":1541222800,\"sunset\":1541253442},\"id\":498817,\"name\":\"Saint Petersburg\",\"cod\":200}";
//вот такое выдает forecast, парсим его.
//str = "{\"cod\":\"200\",\"message\":0.0019,\"cnt\":40,\"list\":[{\"dt\":1541203200,\"main\":{\"temp\":282.19,\"temp_min\":282.19,\"temp_max\":282.34,\"pressure\":1030.65,\"sea_level\":1033.23,\"grnd_level\":1030.65,\"humidity\":92,\"temp_kf\":-0.15},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":88},\"wind\":{\"speed\":4.26,\"deg\":192.503},\"rain\":{\"3h\":0.095},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-03 00:00:00\"},{\"dt\":1541214000,\"main\":{\"temp\":282.19,\"temp_min\":282.19,\"temp_max\":282.292,\"pressure\":1030.23,\"sea_level\":1032.78,\"grnd_level\":1030.23,\"humidity\":91,\"temp_kf\":-0.1},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04n\"}],\"clouds\":{\"all\":76},\"wind\":{\"speed\":4.21,\"deg\":226},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-03 03:00:00\"},{\"dt\":1541224800,\"main\":{\"temp\":281.22,\"temp_min\":281.22,\"temp_max\":281.274,\"pressure\":1029.97,\"sea_level\":1032.52,\"grnd_level\":1029.97,\"humidity\":94,\"temp_kf\":-0.05},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":88},\"wind\":{\"speed\":4.36,\"deg\":221.503},\"rain\":{},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-03 06:00:00\"},{\"dt\":1541235600,\"main\":{\"temp\":281.72,\"temp_min\":281.72,\"temp_max\":281.72,\"pressure\":1029.85,\"sea_level\":1032.35,\"grnd_level\":1029.85,\"humidity\":94,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":68},\"wind\":{\"speed\":4.76,\"deg\":229.5},\"rain\":{\"3h\":0.065},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-03 09:00:00\"},{\"dt\":1541246400,\"main\":{\"temp\":281.916,\"temp_min\":281.916,\"temp_max\":281.916,\"pressure\":1029.31,\"sea_level\":1031.78,\"grnd_level\":1029.31,\"humidity\":93,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":92},\"wind\":{\"speed\":5.01,\"deg\":242.501},\"rain\":{\"3h\":0.145},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-03 12:00:00\"},{\"dt\":1541257200,\"main\":{\"temp\":281.482,\"temp_min\":281.482,\"temp_max\":281.482,\"pressure\":1028.88,\"sea_level\":1031.45,\"grnd_level\":1028.88,\"humidity\":91,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":92},\"wind\":{\"speed\":5.32,\"deg\":250},\"rain\":{\"3h\":0.18},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-03 15:00:00\"},{\"dt\":1541268000,\"main\":{\"temp\":281.55,\"temp_min\":281.55,\"temp_max\":281.55,\"pressure\":1028.9,\"sea_level\":1031.5,\"grnd_level\":1028.9,\"humidity\":92,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":92},\"wind\":{\"speed\":5.74,\"deg\":259},\"rain\":{\"3h\":0.205},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-03 18:00:00\"},{\"dt\":1541278800,\"main\":{\"temp\":281.234,\"temp_min\":281.234,\"temp_max\":281.234,\"pressure\":1029.98,\"sea_level\":1032.66,\"grnd_level\":1029.98,\"humidity\":93,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":48},\"wind\":{\"speed\":5.3,\"deg\":295.001},\"rain\":{\"3h\":0.26},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-03 21:00:00\"},{\"dt\":1541289600,\"main\":{\"temp\":279.179,\"temp_min\":279.179,\"temp_max\":279.179,\"pressure\":1032.07,\"sea_level\":1034.64,\"grnd_level\":1032.07,\"humidity\":95,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01n\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":4.7,\"deg\":310.003},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-04 00:00:00\"},{\"dt\":1541300400,\"main\":{\"temp\":277.721,\"temp_min\":277.721,\"temp_max\":277.721,\"pressure\":1033.8,\"sea_level\":1036.48,\"grnd_level\":1033.8,\"humidity\":99,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"02n\"}],\"clouds\":{\"all\":8},\"wind\":{\"speed\":4.13,\"deg\":306.504},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-04 03:00:00\"},{\"dt\":1541311200,\"main\":{\"temp\":277.097,\"temp_min\":277.097,\"temp_max\":277.097,\"pressure\":1035.44,\"sea_level\":1038.09,\"grnd_level\":1035.44,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":3.62,\"deg\":302.504},\"rain\":{},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-04 06:00:00\"},{\"dt\":1541322000,\"main\":{\"temp\":278.99,\"temp_min\":278.99,\"temp_max\":278.99,\"pressure\":1037.14,\"sea_level\":1039.88,\"grnd_level\":1037.14,\"humidity\":97,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":2.47,\"deg\":299.501},\"rain\":{\"3h\":0.0049999999999999},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-04 09:00:00\"},{\"dt\":1541332800,\"main\":{\"temp\":279.985,\"temp_min\":279.985,\"temp_max\":279.985,\"pressure\":1038.28,\"sea_level\":1040.83,\"grnd_level\":1038.28,\"humidity\":92,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":2.61,\"deg\":274.001},\"rain\":{},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-04 12:00:00\"},{\"dt\":1541343600,\"main\":{\"temp\":278.562,\"temp_min\":278.562,\"temp_max\":278.562,\"pressure\":1038.75,\"sea_level\":1041.42,\"grnd_level\":1038.75,\"humidity\":94,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"02n\"}],\"clouds\":{\"all\":8},\"wind\":{\"speed\":2.72,\"deg\":253.501},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-04 15:00:00\"},{\"dt\":1541354400,\"main\":{\"temp\":277.786,\"temp_min\":277.786,\"temp_max\":277.786,\"pressure\":1039.24,\"sea_level\":1041.82,\"grnd_level\":1039.24,\"humidity\":97,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03n\"}],\"clouds\":{\"all\":44},\"wind\":{\"speed\":3.32,\"deg\":224.001},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-04 18:00:00\"},{\"dt\":1541365200,\"main\":{\"temp\":277.969,\"temp_min\":277.969,\"temp_max\":277.969,\"pressure\":1039.48,\"sea_level\":1042.09,\"grnd_level\":1039.48,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":24},\"wind\":{\"speed\":3.65,\"deg\":219.006},\"rain\":{\"3h\":0.01},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-04 21:00:00\"},{\"dt\":1541376000,\"main\":{\"temp\":277.72,\"temp_min\":277.72,\"temp_max\":277.72,\"pressure\":1039.81,\"sea_level\":1042.46,\"grnd_level\":1039.81,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02n\"}],\"clouds\":{\"all\":24},\"wind\":{\"speed\":3.88,\"deg\":215.502},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-05 00:00:00\"},{\"dt\":1541386800,\"main\":{\"temp\":278.057,\"temp_min\":278.057,\"temp_max\":278.057,\"pressure\":1039.67,\"sea_level\":1042.24,\"grnd_level\":1039.67,\"humidity\":98,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":64},\"wind\":{\"speed\":4.01,\"deg\":213.004},\"rain\":{\"3h\":0.02},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-05 03:00:00\"},{\"dt\":1541397600,\"main\":{\"temp\":278.277,\"temp_min\":278.277,\"temp_max\":278.277,\"pressure\":1039.6,\"sea_level\":1042.26,\"grnd_level\":1039.6,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":64},\"wind\":{\"speed\":4.16,\"deg\":214.502},\"rain\":{\"3h\":0.04},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-05 06:00:00\"},{\"dt\":1541408400,\"main\":{\"temp\":278.866,\"temp_min\":278.866,\"temp_max\":278.866,\"pressure\":1039.67,\"sea_level\":1042.25,\"grnd_level\":1039.67,\"humidity\":98,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":92},\"wind\":{\"speed\":4.51,\"deg\":217.001},\"rain\":{\"3h\":0.01},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-05 09:00:00\"},{\"dt\":1541419200,\"main\":{\"temp\":278.647,\"temp_min\":278.647,\"temp_max\":278.647,\"pressure\":1039.23,\"sea_level\":1041.74,\"grnd_level\":1039.23,\"humidity\":95,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":56},\"wind\":{\"speed\":4.46,\"deg\":220.505},\"rain\":{\"3h\":0.01},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-05 12:00:00\"},{\"dt\":1541430000,\"main\":{\"temp\":277.729,\"temp_min\":277.729,\"temp_max\":277.729,\"pressure\":1038.7,\"sea_level\":1041.38,\"grnd_level\":1038.7,\"humidity\":96,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02n\"}],\"clouds\":{\"all\":12},\"wind\":{\"speed\":3.95,\"deg\":221.505},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-05 15:00:00\"},{\"dt\":1541440800,\"main\":{\"temp\":277.212,\"temp_min\":277.212,\"temp_max\":277.212,\"pressure\":1037.84,\"sea_level\":1040.43,\"grnd_level\":1037.84,\"humidity\":99,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03n\"}],\"clouds\":{\"all\":48},\"wind\":{\"speed\":3.81,\"deg\":214.002},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-05 18:00:00\"},{\"dt\":1541451600,\"main\":{\"temp\":277.747,\"temp_min\":277.747,\"temp_max\":277.747,\"pressure\":1037.72,\"sea_level\":1040.37,\"grnd_level\":1037.72,\"humidity\":98,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04n\"}],\"clouds\":{\"all\":76},\"wind\":{\"speed\":3.31,\"deg\":219.5},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-05 21:00:00\"},{\"dt\":1541462400,\"main\":{\"temp\":277.449,\"temp_min\":277.449,\"temp_max\":277.449,\"pressure\":1037.58,\"sea_level\":1040.09,\"grnd_level\":1037.58,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01n\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":3.45,\"deg\":213.001},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-06 00:00:00\"},{\"dt\":1541473200,\"main\":{\"temp\":276.349,\"temp_min\":276.349,\"temp_max\":276.349,\"pressure\":1037.1,\"sea_level\":1039.7,\"grnd_level\":1037.1,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"02n\"}],\"clouds\":{\"all\":8},\"wind\":{\"speed\":3.46,\"deg\":210.502},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-06 03:00:00\"},{\"dt\":1541484000,\"main\":{\"temp\":276.067,\"temp_min\":276.067,\"temp_max\":276.067,\"pressure\":1037.04,\"sea_level\":1039.7,\"grnd_level\":1037.04,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":44},\"wind\":{\"speed\":3.41,\"deg\":208.505},\"rain\":{\"3h\":0.01},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-06 06:00:00\"},{\"dt\":1541494800,\"main\":{\"temp\":278.058,\"temp_min\":278.058,\"temp_max\":278.058,\"pressure\":1037.18,\"sea_level\":1039.81,\"grnd_level\":1037.18,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":88},\"wind\":{\"speed\":2.81,\"deg\":210.504},\"rain\":{\"3h\":0.06},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-06 09:00:00\"},{\"dt\":1541505600,\"main\":{\"temp\":279.489,\"temp_min\":279.489,\"temp_max\":279.489,\"pressure\":1036.97,\"sea_level\":1039.52,\"grnd_level\":1036.97,\"humidity\":97,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":88},\"wind\":{\"speed\":2.74,\"deg\":214.501},\"rain\":{\"3h\":0.08},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-06 12:00:00\"},{\"dt\":1541516400,\"main\":{\"temp\":279.118,\"temp_min\":279.118,\"temp_max\":279.118,\"pressure\":1036.95,\"sea_level\":1039.54,\"grnd_level\":1036.95,\"humidity\":99,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":88},\"wind\":{\"speed\":2.76,\"deg\":213.004},\"rain\":{\"3h\":0.12},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-06 15:00:00\"},{\"dt\":1541527200,\"main\":{\"temp\":278.475,\"temp_min\":278.475,\"temp_max\":278.475,\"pressure\":1036.93,\"sea_level\":1039.5,\"grnd_level\":1036.93,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":76},\"wind\":{\"speed\":2.81,\"deg\":215.503},\"rain\":{\"3h\":0.11},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-06 18:00:00\"},{\"dt\":1541538000,\"main\":{\"temp\":278.065,\"temp_min\":278.065,\"temp_max\":278.065,\"pressure\":1036.95,\"sea_level\":1039.5,\"grnd_level\":1036.95,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":68},\"wind\":{\"speed\":2.52,\"deg\":217.502},\"rain\":{\"3h\":0.05},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-06 21:00:00\"},{\"dt\":1541548800,\"main\":{\"temp\":277.979,\"temp_min\":277.979,\"temp_max\":277.979,\"pressure\":1036.69,\"sea_level\":1039.26,\"grnd_level\":1036.69,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":68},\"wind\":{\"speed\":2.12,\"deg\":202.501},\"rain\":{\"3h\":0.03},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-07 00:00:00\"},{\"dt\":1541559600,\"main\":{\"temp\":277.001,\"temp_min\":277.001,\"temp_max\":277.001,\"pressure\":1035.95,\"sea_level\":1038.56,\"grnd_level\":1035.95,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04n\"}],\"clouds\":{\"all\":80},\"wind\":{\"speed\":2.47,\"deg\":193.501},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-07 03:00:00\"},{\"dt\":1541570400,\"main\":{\"temp\":276.007,\"temp_min\":276.007,\"temp_max\":276.007,\"pressure\":1035.78,\"sea_level\":1038.31,\"grnd_level\":1035.78,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02d\"}],\"clouds\":{\"all\":24},\"wind\":{\"speed\":2.89,\"deg\":198},\"rain\":{},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-07 06:00:00\"},{\"dt\":1541581200,\"main\":{\"temp\":276.969,\"temp_min\":276.969,\"temp_max\":276.969,\"pressure\":1035.72,\"sea_level\":1038.33,\"grnd_level\":1035.72,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":56},\"wind\":{\"speed\":2.41,\"deg\":199.504},\"rain\":{},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-07 09:00:00\"},{\"dt\":1541592000,\"main\":{\"temp\":277.951,\"temp_min\":277.951,\"temp_max\":277.951,\"pressure\":1035.14,\"sea_level\":1037.75,\"grnd_level\":1035.14,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":2.52,\"deg\":200},\"rain\":{},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-07 12:00:00\"},{\"dt\":1541602800,\"main\":{\"temp\":276.421,\"temp_min\":276.421,\"temp_max\":276.421,\"pressure\":1034.44,\"sea_level\":1037.09,\"grnd_level\":1034.44,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"02n\"}],\"clouds\":{\"all\":8},\"wind\":{\"speed\":3.5,\"deg\":199.003},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-07 15:00:00\"},{\"dt\":1541613600,\"main\":{\"temp\":275.313,\"temp_min\":275.313,\"temp_max\":275.313,\"pressure\":1034.11,\"sea_level\":1036.76,\"grnd_level\":1034.11,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03n\"}],\"clouds\":{\"all\":32},\"wind\":{\"speed\":3.41,\"deg\":207.502},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-07 18:00:00\"},{\"dt\":1541624400,\"main\":{\"temp\":275.304,\"temp_min\":275.304,\"temp_max\":275.304,\"pressure\":1034,\"sea_level\":1036.65,\"grnd_level\":1034,\"humidity\":100,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":68},\"wind\":{\"speed\":2.96,\"deg\":216.003},\"rain\":{\"3h\":0.04},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-07 21:00:00\"}],\"city\":{\"id\":498817,\"name\":\"Saint Petersburg\",\"coord\":{\"lat\":59.8944,\"lon\":30.2642},\"country\":\"RU\"}}";
//не стала запускать еще и JSON обработку, вытащила, что потребовалось руками

package ip625.TelegramWeatherBot.app;

import ip625.TelegramWeatherBot.weather.WeatherGsonDecoder;
import ip625.TelegramWeatherBot.weather.WeatherList;

import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.Iterator;
import java.util.List;

class WeatherParsing {

    //weatherStringParsing - добывает нужную инфу из объекта, получинного на основе JSON
    static String weatherStringParsing (String jsonString, String city, String lat, String lon){

        //jsonString = "{\"cod\":\"200\",\"message\":0.2236,\"cnt\":40,\"list\":[{\"dt\":1541602800,\"main\":{\"temp\":-1.11,\"temp_min\":-1.11,\"temp_max\":0.32,\"pressure\":1025.55,\"sea_level\":1039.36,\"grnd_level\":1025.55,\"humidity\":89,\"temp_kf\":-1.43},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":2.81,\"deg\":261.508},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-07 15:00:00\"},{\"dt\":1541613600,\"main\":{\"temp\":-1.61,\"temp_min\":-1.61,\"temp_max\":-0.54,\"pressure\":1024.97,\"sea_level\":1038.88,\"grnd_level\":1024.97,\"humidity\":89,\"temp_kf\":-1.07},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":3.56,\"deg\":255},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-07 18:00:00\"},{\"dt\":1541624400,\"main\":{\"temp\":-1.3,\"temp_min\":-1.3,\"temp_max\":-0.59,\"pressure\":1023.62,\"sea_level\":1037.48,\"grnd_level\":1023.62,\"humidity\":89,\"temp_kf\":-0.71},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"облачно\",\"icon\":\"02n\"}],\"clouds\":{\"all\":12},\"wind\":{\"speed\":3.66,\"deg\":258.002},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-07 21:00:00\"},{\"dt\":1541635200,\"main\":{\"temp\":-1.29,\"temp_min\":-1.29,\"temp_max\":-0.94,\"pressure\":1021.86,\"sea_level\":1035.88,\"grnd_level\":1021.86,\"humidity\":92,\"temp_kf\":-0.36},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"облачно\",\"icon\":\"02n\"}],\"clouds\":{\"all\":20},\"wind\":{\"speed\":3.56,\"deg\":250.506},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-08 00:00:00\"},{\"dt\":1541646000,\"main\":{\"temp\":-0.11,\"temp_min\":-0.11,\"temp_max\":-0.11,\"pressure\":1020.62,\"sea_level\":1034.44,\"grnd_level\":1020.62,\"humidity\":97,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"пасмурно\",\"icon\":\"04n\"}],\"clouds\":{\"all\":64},\"wind\":{\"speed\":4.65,\"deg\":252.002},\"rain\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-08 03:00:00\"},{\"dt\":1541656800,\"main\":{\"temp\":1.56,\"temp_min\":1.56,\"temp_max\":1.56,\"pressure\":1019.72,\"sea_level\":1033.55,\"grnd_level\":1019.72,\"humidity\":88,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"легкий дождь\",\"icon\":\"10d\"}],\"clouds\":{\"all\":56},\"wind\":{\"speed\":4.76,\"deg\":266.002},\"rain\":{\"3h\":0.0075},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-08 06:00:00\"},{\"dt\":1541667600,\"main\":{\"temp\":3.26,\"temp_min\":3.26,\"temp_max\":3.26,\"pressure\":1019.32,\"sea_level\":1033.04,\"grnd_level\":1019.32,\"humidity\":84,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"легкий дождь\",\"icon\":\"10d\"}],\"clouds\":{\"all\":88},\"wind\":{\"speed\":4.11,\"deg\":305.5},\"rain\":{\"3h\":0.14},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-08 09:00:00\"},{\"dt\":1541678400,\"main\":{\"temp\":3.45,\"temp_min\":3.45,\"temp_max\":3.45,\"pressure\":1019.9,\"sea_level\":1033.5,\"grnd_level\":1019.9,\"humidity\":79,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"легкий дождь\",\"icon\":\"10d\"}],\"clouds\":{\"all\":88},\"wind\":{\"speed\":3.45,\"deg\":332.501},\"rain\":{\"3h\":0.05},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-08 12:00:00\"},{\"dt\":1541689200,\"main\":{\"temp\":1.18,\"temp_min\":1.18,\"temp_max\":1.18,\"pressure\":1020.94,\"sea_level\":1034.67,\"grnd_level\":1020.94,\"humidity\":88,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"легкий дождь\",\"icon\":\"10n\"}],\"clouds\":{\"all\":64},\"wind\":{\"speed\":2.37,\"deg\":341.004},\"rain\":{\"3h\":0.02},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-08 15:00:00\"},{\"dt\":1541700000,\"main\":{\"temp\":0.86,\"temp_min\":0.86,\"temp_max\":0.86,\"pressure\":1021.57,\"sea_level\":1035.43,\"grnd_level\":1021.57,\"humidity\":95,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"легкий дождь\",\"icon\":\"10n\"}],\"clouds\":{\"all\":68},\"wind\":{\"speed\":2.98,\"deg\":12.0047},\"rain\":{\"3h\":0.07},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-08 18:00:00\"},{\"dt\":1541710800,\"main\":{\"temp\":0.54,\"temp_min\":0.54,\"temp_max\":0.54,\"pressure\":1022.71,\"sea_level\":1036.55,\"grnd_level\":1022.71,\"humidity\":95,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"легкий дождь\",\"icon\":\"10n\"}],\"clouds\":{\"all\":68},\"wind\":{\"speed\":3.41,\"deg\":42.5021},\"rain\":{\"3h\":0.04},\"snow\":{\"3h\":0.02},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-08 21:00:00\"},{\"dt\":1541721600,\"main\":{\"temp\":-0.82,\"temp_min\":-0.82,\"temp_max\":-0.82,\"pressure\":1024.04,\"sea_level\":1037.88,\"grnd_level\":1024.04,\"humidity\":88,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":80},\"wind\":{\"speed\":3.74,\"deg\":47.002},\"rain\":{},\"snow\":{\"3h\":0.015},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-09 00:00:00\"},{\"dt\":1541732400,\"main\":{\"temp\":-1.42,\"temp_min\":-1.42,\"temp_max\":-1.42,\"pressure\":1025.41,\"sea_level\":1039.45,\"grnd_level\":1025.41,\"humidity\":80,\"temp_kf\":0},\"weather\":[{\"id\":600,\"main\":\"Snow\",\"description\":\"небольшой снегопад\",\"icon\":\"13n\"}],\"clouds\":{\"all\":80},\"wind\":{\"speed\":4.17,\"deg\":50.0021},\"rain\":{},\"snow\":{\"3h\":0.0325},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-09 03:00:00\"},{\"dt\":1541743200,\"main\":{\"temp\":-3.1,\"temp_min\":-3.1,\"temp_max\":-3.1,\"pressure\":1027.47,\"sea_level\":1041.48,\"grnd_level\":1027.47,\"humidity\":78,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01d\"}],\"clouds\":{\"all\":8},\"wind\":{\"speed\":4.61,\"deg\":62.5029},\"rain\":{},\"snow\":{\"3h\":0.01},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-09 06:00:00\"},{\"dt\":1541754000,\"main\":{\"temp\":-1.85,\"temp_min\":-1.85,\"temp_max\":-1.85,\"pressure\":1028.06,\"sea_level\":1042.11,\"grnd_level\":1028.06,\"humidity\":77,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01d\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":4.31,\"deg\":69.0012},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-09 09:00:00\"},{\"dt\":1541764800,\"main\":{\"temp\":-2.57,\"temp_min\":-2.57,\"temp_max\":-2.57,\"pressure\":1028.37,\"sea_level\":1042.5,\"grnd_level\":1028.37,\"humidity\":65,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01d\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":3.94,\"deg\":65.5067},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-09 12:00:00\"},{\"dt\":1541775600,\"main\":{\"temp\":-6.34,\"temp_min\":-6.34,\"temp_max\":-6.34,\"pressure\":1029.66,\"sea_level\":1043.98,\"grnd_level\":1029.66,\"humidity\":61,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":4.1,\"deg\":67.0038},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-09 15:00:00\"},{\"dt\":1541786400,\"main\":{\"temp\":-7.65,\"temp_min\":-7.65,\"temp_max\":-7.65,\"pressure\":1030.63,\"sea_level\":1045,\"grnd_level\":1030.63,\"humidity\":67,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"облачно\",\"icon\":\"02n\"}],\"clouds\":{\"all\":24},\"wind\":{\"speed\":3.94,\"deg\":61.5048},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-09 18:00:00\"},{\"dt\":1541797200,\"main\":{\"temp\":-8.61,\"temp_min\":-8.61,\"temp_max\":-8.61,\"pressure\":1031.39,\"sea_level\":1045.88,\"grnd_level\":1031.39,\"humidity\":62,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":4.05,\"deg\":52.5022},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-09 21:00:00\"},{\"dt\":1541808000,\"main\":{\"temp\":-9.18,\"temp_min\":-9.18,\"temp_max\":-9.18,\"pressure\":1032.18,\"sea_level\":1046.66,\"grnd_level\":1032.18,\"humidity\":65,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":12},\"wind\":{\"speed\":4.39,\"deg\":48.5021},\"rain\":{},\"snow\":{\"3h\":0.0025},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-10 00:00:00\"},{\"dt\":1541818800,\"main\":{\"temp\":-8.92,\"temp_min\":-8.92,\"temp_max\":-8.92,\"pressure\":1033.35,\"sea_level\":1047.88,\"grnd_level\":1033.35,\"humidity\":74,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":32},\"wind\":{\"speed\":4.61,\"deg\":48.501},\"rain\":{},\"snow\":{\"3h\":0.0075},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-10 03:00:00\"},{\"dt\":1541829600,\"main\":{\"temp\":-6.74,\"temp_min\":-6.74,\"temp_max\":-6.74,\"pressure\":1035.3,\"sea_level\":1049.67,\"grnd_level\":1035.3,\"humidity\":67,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01d\"}],\"clouds\":{\"all\":36},\"wind\":{\"speed\":4.74,\"deg\":57.0075},\"rain\":{},\"snow\":{\"3h\":0.01},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-10 06:00:00\"},{\"dt\":1541840400,\"main\":{\"temp\":-3.86,\"temp_min\":-3.86,\"temp_max\":-3.86,\"pressure\":1036.87,\"sea_level\":1051.16,\"grnd_level\":1036.87,\"humidity\":72,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01d\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":4.53,\"deg\":63.0011},\"rain\":{},\"snow\":{\"3h\":0.0025},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-10 09:00:00\"},{\"dt\":1541851200,\"main\":{\"temp\":-4.43,\"temp_min\":-4.43,\"temp_max\":-4.43,\"pressure\":1038.36,\"sea_level\":1052.69,\"grnd_level\":1038.36,\"humidity\":64,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01d\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":4.52,\"deg\":58.5015},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-10 12:00:00\"},{\"dt\":1541862000,\"main\":{\"temp\":-7.52,\"temp_min\":-7.52,\"temp_max\":-7.52,\"pressure\":1040.68,\"sea_level\":1055.12,\"grnd_level\":1040.68,\"humidity\":67,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":4.5,\"deg\":60.0013},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-10 15:00:00\"},{\"dt\":1541872800,\"main\":{\"temp\":-9.63,\"temp_min\":-9.63,\"temp_max\":-9.63,\"pressure\":1042.61,\"sea_level\":1057.29,\"grnd_level\":1042.61,\"humidity\":68,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":4.12,\"deg\":66.0006},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-10 18:00:00\"},{\"dt\":1541883600,\"main\":{\"temp\":-11.39,\"temp_min\":-11.39,\"temp_max\":-11.39,\"pressure\":1044.86,\"sea_level\":1059.54,\"grnd_level\":1044.86,\"humidity\":78,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":3.51,\"deg\":69.5019},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-10 21:00:00\"},{\"dt\":1541894400,\"main\":{\"temp\":-13.21,\"temp_min\":-13.21,\"temp_max\":-13.21,\"pressure\":1046.46,\"sea_level\":1061.39,\"grnd_level\":1046.46,\"humidity\":83,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":2.81,\"deg\":65.0013},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-11 00:00:00\"},{\"dt\":1541905200,\"main\":{\"temp\":-14.96,\"temp_min\":-14.96,\"temp_max\":-14.96,\"pressure\":1048.19,\"sea_level\":1063.08,\"grnd_level\":1048.19,\"humidity\":79,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":1.76,\"deg\":39.5008},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-11 03:00:00\"},{\"dt\":1541916000,\"main\":{\"temp\":-11.35,\"temp_min\":-11.35,\"temp_max\":-11.35,\"pressure\":1050.06,\"sea_level\":1064.83,\"grnd_level\":1050.06,\"humidity\":72,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01d\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":2.02,\"deg\":52.0012},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-11 06:00:00\"},{\"dt\":1541926800,\"main\":{\"temp\":-6.24,\"temp_min\":-6.24,\"temp_max\":-6.24,\"pressure\":1051.21,\"sea_level\":1065.83,\"grnd_level\":1051.21,\"humidity\":75,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01d\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":1.97,\"deg\":42.0042},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-11 09:00:00\"},{\"dt\":1541937600,\"main\":{\"temp\":-5.59,\"temp_min\":-5.59,\"temp_max\":-5.59,\"pressure\":1051.41,\"sea_level\":1066,\"grnd_level\":1051.41,\"humidity\":67,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01d\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":1.41,\"deg\":8.00073},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-11 12:00:00\"},{\"dt\":1541948400,\"main\":{\"temp\":-10.97,\"temp_min\":-10.97,\"temp_max\":-10.97,\"pressure\":1052.21,\"sea_level\":1067.06,\"grnd_level\":1052.21,\"humidity\":76,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":2.22,\"deg\":343.501},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-11 15:00:00\"},{\"dt\":1541959200,\"main\":{\"temp\":-13.24,\"temp_min\":-13.24,\"temp_max\":-13.24,\"pressure\":1053.01,\"sea_level\":1067.89,\"grnd_level\":1053.01,\"humidity\":76,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":1.41,\"deg\":350.502},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-11 18:00:00\"},{\"dt\":1541970000,\"main\":{\"temp\":-14.49,\"temp_min\":-14.49,\"temp_max\":-14.49,\"pressure\":1053.42,\"sea_level\":1068.36,\"grnd_level\":1053.42,\"humidity\":76,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":1.22,\"deg\":345.51},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-11 21:00:00\"},{\"dt\":1541980800,\"main\":{\"temp\":-15.41,\"temp_min\":-15.41,\"temp_max\":-15.41,\"pressure\":1053.34,\"sea_level\":1068.39,\"grnd_level\":1053.34,\"humidity\":64,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":1.07,\"deg\":251.002},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-12 00:00:00\"},{\"dt\":1541991600,\"main\":{\"temp\":-16.17,\"temp_min\":-16.17,\"temp_max\":-16.17,\"pressure\":1053.18,\"sea_level\":1068.26,\"grnd_level\":1053.18,\"humidity\":58,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01n\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":1.27,\"deg\":188.003},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2018-11-12 03:00:00\"},{\"dt\":1542002400,\"main\":{\"temp\":-11.07,\"temp_min\":-11.07,\"temp_max\":-11.07,\"pressure\":1053.09,\"sea_level\":1067.96,\"grnd_level\":1053.09,\"humidity\":71,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01d\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":2.12,\"deg\":186.509},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-12 06:00:00\"},{\"dt\":1542013200,\"main\":{\"temp\":-3.9,\"temp_min\":-3.9,\"temp_max\":-3.9,\"pressure\":1052.51,\"sea_level\":1067.07,\"grnd_level\":1052.51,\"humidity\":74,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01d\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":2.92,\"deg\":216},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-12 09:00:00\"},{\"dt\":1542024000,\"main\":{\"temp\":-4.53,\"temp_min\":-4.53,\"temp_max\":-4.53,\"pressure\":1051.39,\"sea_level\":1065.83,\"grnd_level\":1051.39,\"humidity\":62,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"ясно\",\"icon\":\"01d\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":3.01,\"deg\":217.502},\"rain\":{},\"snow\":{},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2018-11-12 12:00:00\"}],\"city\":{\"id\":499099,\"name\":\"Samara\",\"coord\":{\"lat\":53.2,\"lon\":50.15},\"country\":\"RU\",\"population\":1134730}}";

        List<WeatherList> weatherList = WeatherGsonDecoder.parseWeather(jsonString).getList();
        Iterator<WeatherList> weatherIterator = weatherList.listIterator();


        //СЕЙЧАС
        Date currentDate = new Date();
        String currentTemp = "";
        String currentWeather= "";
        String currentWSpeed= "";
        String currentWDir ="";

        if (weatherIterator.hasNext()) {
            WeatherList item = weatherIterator.next();
            currentTemp =  item.getMain().getTemp().toString();
            currentWSpeed = item.getWind().getSpeed().toString();
            currentWDir = convertWind(item.getWind().getDeg());
            currentWeather = item.getWeather().get(0).getDescription();
        }

        //ЗАВТРА (данные на середину дня)
        //(можно вытащить и больше, но думаю так подробно не нужно)
        Calendar c = Calendar.getInstance();
        c.setTime(currentDate);
        c.add(Calendar.DATE, 1);
        Date forecastDate = c.getTime();
        String tomorrow =  new SimpleDateFormat("dd.MM.yyyy").format(forecastDate);
        String tomorrowForSearch = new SimpleDateFormat("yyyy-MM-dd").format(forecastDate);

        String tomWeather = "";
        String tomTemp = "";
        String tomWSpeed = "";
        String tomWDir = "";

        while (weatherIterator.hasNext()) {
            WeatherList item = weatherIterator.next();
            if(item.getDtTxt().equals(tomorrowForSearch + " 15:00:00") ) {//беру погоду с 12 до 15 часов
                tomTemp = item.getMain().getTemp().toString();
                tomWSpeed = item.getWind().getSpeed().toString();
                tomWDir = convertWind(item.getWind().getDeg());
                tomWeather = item.getWeather().get(0).getDescription();
                break;
            }
        }


        //формирую сообщение для пользователя
        StringBuilder strB = new StringBuilder();
        strB.append("Текущая погода для локации ");
                                                strB.append(city);

        strB.append(" [").append(lat).append(", ").append(lon).append("]");

        strB.append("\n\rТемпература ");
                            strB.append(currentTemp);
                                            strB.append("°C, ");
                                                            strB.append(currentWeather);
        strB.append(", ветер ");
                    strB.append(currentWDir);
                                strB.append(" ");
                                        strB.append(currentWSpeed);
                                                        strB.append(" м/с");

        strB.append("\n\r\n\rПрогноз погоды на ");
                                        strB.append(tomorrow);
        strB.append(":\n\rТемпература ");
                            strB.append(tomTemp);
                                    strB.append("°C, ");
                                                    strB.append(tomWeather);
        strB.append(", ветер ");
                    strB.append(tomWDir);
                            strB.append(" ");
                                strB.append(tomWSpeed);
                                            strB.append(" м/с");
        return strB.toString();
    }

    //переводим градусы в направление ветра  ЮВ
    private static String convertWind (double deg) {
        String[] wDir ={"С", "ССВ","СВ","ВСВ","В","ВЮВ","ЮВ","ЮЮВ","Ю", "ЮЮЗ","ЮЗ","ЗЮЗ","З","ЗСЗ","СЗ","ССЗ", "C"};
        int wIndex = -1;

        for (int i = 0; i < 18; i++)  {

            if (-11.25 + 22.5*i > deg) {
                wIndex = i-1;
                break;
            }
        }
        return wDir[wIndex];
    }
}
