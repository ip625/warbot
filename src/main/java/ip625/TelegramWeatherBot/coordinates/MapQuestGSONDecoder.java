package ip625.TelegramWeatherBot.coordinates;

//парсим JSON для MapQuest
import com.google.gson.Gson;
import com.google.gson.GsonBuilder;


public class MapQuestGSONDecoder {

    public MapQuest parseMapQuest (String jsonString) {
        //образец
        //jsonString = "[{\"place_id\":\"187726044\",\"licence\":\"Data © OpenStreetMap contributors, ODbL 1.0. https:\\/\\/www.openstreetmap.org\\/copyright\",\"osm_type\":\"relation\",\"osm_id\":\"1128379\",\"boundingbox\":[\"28.3480634\",\"28.614283\",\"-81.5075377\",\"-81.2275862\"],\"lat\":\"28.5421097\",\"lon\":\"-81.3790388\",\"display_name\":\"Orlando, Orange County, Florida, United States of America\",\"class\":\"place\",\"type\":\"city\",\"importance\":0.15219171240078,\"icon\":\"http:\\/\\/ip-10-98-168-68.mq-us-east-1.ec2.aolcloud.net\\/nominatim\\/images\\/mapicons\\/poi_place_city.p.20.png\",\"address\":{\"city\":\"Orlando\",\"county\":\"Orange County\",\"state\":\"Florida\",\"country\":\"United States of America\",\"country_code\":\"us\"}},{\"place_id\":\"187294307\",\"licence\":\"Data © OpenStreetMap contributors, ODbL 1.0. https:\\/\\/www.openstreetmap.org\\/copyright\",\"osm_type\":\"relation\",\"osm_id\":\"183958\",\"boundingbox\":[\"36.115253\",\"36.153085\",\"-97.380616\",\"-97.334437\"],\"lat\":\"36.1489309\",\"lon\":\"-97.378098\",\"display_name\":\"Orlando, Oklahoma, United States of America\",\"class\":\"boundary\",\"type\":\"administrative\",\"importance\":0.079771448847614,\"icon\":\"http:\\/\\/ip-10-98-168-68.mq-us-east-1.ec2.aolcloud.net\\/nominatim\\/images\\/mapicons\\/poi_boundary_administrative.p.20.png\",\"address\":{\"city\":\"Orlando\",\"state\":\"Oklahoma\",\"country\":\"United States of America\",\"country_code\":\"us\"}},{\"place_id\":\"449643\",\"licence\":\"Data © OpenStreetMap contributors, ODbL 1.0. https:\\/\\/www.openstreetmap.org\\/copyright\",\"osm_type\":\"node\",\"osm_id\":\"154200838\",\"boundingbox\":[\"38.8512074\",\"38.8912074\",\"-80.6137044\",\"-80.5737044\"],\"lat\":\"38.8712074\",\"lon\":\"-80.5937044\",\"display_name\":\"Orlando, Braxton County, West Virginia, 26412, United States of America\",\"class\":\"place\",\"type\":\"hamlet\",\"importance\":0.071999510282285,\"icon\":\"http:\\/\\/ip-10-98-168-68.mq-us-east-1.ec2.aolcloud.net\\/nominatim\\/images\\/mapicons\\/poi_place_village.p.20.png\",\"address\":{\"hamlet\":\"Orlando\",\"county\":\"Braxton County\",\"state\":\"West Virginia\",\"postcode\":\"26412\",\"country\":\"United States of America\",\"country_code\":\"us\"}},{\"place_id\":\"414376\",\"licence\":\"Data © OpenStreetMap contributors, ODbL 1.0. https:\\/\\/www.openstreetmap.org\\/copyright\",\"osm_type\":\"node\",\"osm_id\":\"157630293\",\"boundingbox\":[\"42.2845078\",\"42.3245078\",\"-78.7361416\",\"-78.6961416\"],\"lat\":\"42.3045078\",\"lon\":\"-78.7161416\",\"display_name\":\"Orlando, Cattaraugus County, New York, United States of America\",\"class\":\"place\",\"type\":\"hamlet\",\"importance\":0.06875,\"icon\":\"http:\\/\\/ip-10-98-168-68.mq-us-east-1.ec2.aolcloud.net\\/nominatim\\/images\\/mapicons\\/poi_place_village.p.20.png\",\"address\":{\"hamlet\":\"Orlando\",\"county\":\"Cattaraugus County\",\"state\":\"New York\",\"country\":\"United States of America\",\"country_code\":\"us\"}},{\"place_id\":\"486669\",\"licence\":\"Data © OpenStreetMap contributors, ODbL 1.0. https:\\/\\/www.openstreetmap.org\\/copyright\",\"osm_type\":\"node\",\"osm_id\":\"158472301\",\"boundingbox\":[\"36.6968166\",\"36.7368166\",\"-76.5963396\",\"-76.5563396\"],\"lat\":\"36.7168166\",\"lon\":\"-76.5763396\",\"display_name\":\"Orlando, Suffolk, Virginia, 23434, United States of America\",\"class\":\"place\",\"type\":\"hamlet\",\"importance\":0.06875,\"icon\":\"http:\\/\\/ip-10-98-168-68.mq-us-east-1.ec2.aolcloud.net\\/nominatim\\/images\\/mapicons\\/poi_place_village.p.20.png\",\"address\":{\"hamlet\":\"Orlando\",\"city\":\"Suffolk\",\"state\":\"Virginia\",\"postcode\":\"23434\",\"country\":\"United States of America\",\"country_code\":\"us\"}},{\"place_id\":\"446213\",\"licence\":\"Data © OpenStreetMap contributors, ODbL 1.0. https:\\/\\/www.openstreetmap.org\\/copyright\",\"osm_type\":\"node\",\"osm_id\":\"154354926\",\"boundingbox\":[\"37.3528625\",\"37.3928625\",\"-84.2879902\",\"-84.2479902\"],\"lat\":\"37.3728625\",\"lon\":\"-84.2679902\",\"display_name\":\"Orlando, Rockcastle County, Kentucky, 40460, United States of America\",\"class\":\"place\",\"type\":\"hamlet\",\"importance\":0.06875,\"icon\":\"http:\\/\\/ip-10-98-168-68.mq-us-east-1.ec2.aolcloud.net\\/nominatim\\/images\\/mapicons\\/poi_place_village.p.20.png\",\"address\":{\"hamlet\":\"Orlando\",\"county\":\"Rockcastle County\",\"state\":\"Kentucky\",\"postcode\":\"40460\",\"country\":\"United States of America\",\"country_code\":\"us\"}},{\"place_id\":\"426944\",\"licence\":\"Data © OpenStreetMap contributors, ODbL 1.0. https:\\/\\/www.openstreetmap.org\\/copyright\",\"osm_type\":\"node\",\"osm_id\":\"153873868\",\"boundingbox\":[\"34.983424\",\"35.023424\",\"-83.3993215\",\"-83.3593215\"],\"lat\":\"35.003424\",\"lon\":\"-83.3793215\",\"display_name\":\"Orlando, Macon County, North Carolina, 30537, United States of America\",\"class\":\"place\",\"type\":\"hamlet\",\"importance\":0.06875,\"icon\":\"http:\\/\\/ip-10-98-168-68.mq-us-east-1.ec2.aolcloud.net\\/nominatim\\/images\\/mapicons\\/poi_place_village.p.20.png\",\"address\":{\"hamlet\":\"Orlando\",\"county\":\"Macon County\",\"state\":\"North Carolina\",\"postcode\":\"30537\",\"country\":\"United States of America\",\"country_code\":\"us\"}},{\"place_id\":\"374636\",\"licence\":\"Data © OpenStreetMap contributors, ODbL 1.0. https:\\/\\/www.openstreetmap.org\\/copyright\",\"osm_type\":\"node\",\"osm_id\":\"151348033\",\"boundingbox\":[\"33.6998283\",\"33.7398283\",\"-92.1612534\",\"-92.1212534\"],\"lat\":\"33.7198283\",\"lon\":\"-92.1412534\",\"display_name\":\"Orlando, Cleveland County, Arkansas, United States of America\",\"class\":\"place\",\"type\":\"hamlet\",\"importance\":0.06875,\"icon\":\"http:\\/\\/ip-10-98-168-68.mq-us-east-1.ec2.aolcloud.net\\/nominatim\\/images\\/mapicons\\/poi_place_village.p.20.png\",\"address\":{\"hamlet\":\"Orlando\",\"county\":\"Cleveland County\",\"state\":\"Arkansas\",\"country\":\"United States of America\",\"country_code\":\"us\"}},{\"place_id\":\"15008319\",\"licence\":\"Data © OpenStreetMap contributors, ODbL 1.0. https:\\/\\/www.openstreetmap.org\\/copyright\",\"osm_type\":\"node\",\"osm_id\":\"1371671309\",\"boundingbox\":[\"-26.2425413\",\"-26.2025413\",\"27.8917529\",\"27.9317529\"],\"lat\":\"-26.2225413\",\"lon\":\"27.9117529\",\"display_name\":\"Orlando, Soweto, City of Johannesburg Metropolitan Municipality, Gauteng, 1852, South Africa\",\"class\":\"place\",\"type\":\"suburb\",\"importance\":0.0625,\"icon\":\"http:\\/\\/ip-10-98-168-68.mq-us-east-1.ec2.aolcloud.net\\/nominatim\\/images\\/mapicons\\/poi_place_village.p.20.png\",\"address\":{\"suburb\":\"Orlando\",\"city\":\"Soweto\",\"county\":\"City of Johannesburg Metropolitan Municipality\",\"state\":\"Gauteng\",\"postcode\":\"1852\",\"country\":\"South Africa\",\"country_code\":\"za\"}},{\"place_id\":\"158905290\",\"licence\":\"Data © OpenStreetMap contributors, ODbL 1.0. https:\\/\\/www.openstreetmap.org\\/copyright\",\"osm_type\":\"way\",\"osm_id\":\"388190458\",\"boundingbox\":[\"-27.9018017\",\"-27.9006487\",\"153.3137292\",\"153.3146315\"],\"lat\":\"-27.90122085\",\"lon\":\"153.314212421497\",\"display_name\":\"Orlando, Oxenford, Gold Coast, QLD, 4210, Australia\",\"class\":\"landuse\",\"type\":\"residential\",\"importance\":0.05,\"address\":{\"residential\":\"Orlando\",\"suburb\":\"Oxenford\",\"city_district\":\"Oxenford\",\"city\":\"Gold Coast\",\"state\":\"QLD\",\"postcode\":\"4210\",\"country\":\"Australia\",\"country_code\":\"au\"}}]";

        if (jsonString.length() < 5) return null;

        System.out.println(jsonString);

        GsonBuilder builder = new GsonBuilder();
        builder.setPrettyPrinting();

        Gson gson = builder.create();
        MapQuest[] list = gson.fromJson(jsonString, MapQuest[].class);

        //System.out.println(mapQuest);

        //jsonString = gson.toJson(list[0]);
        //System.out.println(jsonString);

        return list[0];
    }
}